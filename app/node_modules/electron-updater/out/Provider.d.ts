/// <reference types="node" />
import { CancellationToken, HttpExecutor, UpdateInfo } from "builder-util-runtime";
import { OutgoingHttpHeaders, RequestOptions } from "http";
import { URL } from "url";
import { ResolvedUpdateFileInfo } from "./main";
export declare abstract class Provider<T extends UpdateInfo> {
    protected readonly executor: HttpExecutor<any>;
    protected requestHeaders: OutgoingHttpHeaders | null;
    constructor(executor: HttpExecutor<any>);
    readonly fileExtraDownloadHeaders: OutgoingHttpHeaders | null;
    setRequestHeaders(value: OutgoingHttpHeaders | null): void;
    abstract getLatestVersion(): Promise<T>;
    abstract resolveFiles(updateInfo: UpdateInfo): Array<ResolvedUpdateFileInfo>;
    protected httpRequest(url: URL, headers: OutgoingHttpHeaders | null, cancellationToken: CancellationToken): Promise<string | null>;
    protected createRequestOptions(url: URL, headers?: OutgoingHttpHeaders | null): RequestOptions;
}
export declare function findFile(files: Array<ResolvedUpdateFileInfo>, extension: string, not?: Array<string>): ResolvedUpdateFileInfo | null | undefined;
export declare function parseUpdateInfo(rawData: string, channelFile: string, channelFileUrl: URL): UpdateInfo;
export declare function resolveFiles(updateInfo: UpdateInfo, baseUrl: URL, pathTransformer?: (p: string) => string): Array<ResolvedUpdateFileInfo>;
